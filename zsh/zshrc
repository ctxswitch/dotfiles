if [[ -d /Applications ]]; then
  export PATH=$PATH:/Applications/Visual\ Studio\ Code.app/Contents/Resources/app/bin
fi

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

export EDITOR=nvim
export GIT_EDITOR=nvim

mkdir -p $HOME/bin
export PATH="$HOME/bin:$PATH"
export PATH=/usr/local/go/bin:/usr/local/kubebuilder/bin:$PATH
export PATH=/usr/local/opt/llvm/bin:$PATH
export PATH=$PATH:/usr/local/kubebuilder/bin

# Add cargo to the path if we have rust installed
if [ -d $HOME/.cargo/bin ] ; then export PATH="$HOME/.cargo/bin:$PATH"; fi

# Add completion for kubectl
KUBECTL_BIN=$(which kubectl)
if [ -f ${KUBECTL_BIN} ]; then . <(${KUBECTL_BIN} completion zsh); fi


if [ -f ${HOME}/.zshrc.local ]; then . ${HOME}/.zshrc.local; fi

if [[ "$(uname -s)" == "Darwin" ]] ; then
HOMEBREW_PATH=/opt/homebrew
else
HOMEBREW_PATH=/home/linuxbrew/.linuxbrew
fi

if [ -d $HOMEBREW_PATH ]; then eval "$($HOMEBREW_PATH/bin/brew shellenv)"; fi

if [ -d $(go env GOPATH)/bin ]; then
  export PATH=$(go env GOPATH)/bin:$PATH
fi

if [ -d $HOME/.rd/bin ]; then
  export PATH=$HOME/.rd/bin:$PATH
fi

export FZF_DEFAULT_COMMAND='fd --type f --strip-cwd-prefix --exclude .git --exclude vendor'
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

function cds() {
	S=$(FZF_DEFAULT_COMMAND="fd . --type d --max-depth 3 --exclude .git --exclude vendor --exclude node_modules ~/src" fzf)
	cd ${S}
}

function cdt() {
	S=$(FZF_DEFAULT_COMMAND="fd . --type d --max-depth 3 --exclude .git --exclude vendor --exclude node_modules ~/src" fzf)
	cd ${S}
	N=$(basename $S)
	tmux neww -n $N
}

function nvt() {
	S=$(FZF_DEFAULT_COMMAND="fd . --type d --max-depth 3 --exclude .git --exclude vendor --exclude node_modules ~/src" fzf)
	cd ${S}
	N=$(basename $S)
	tmux neww -n $N 'exec nvim .'
	tmux split-window -v -p 20
}

export GPG_TTY=$(tty)

alias vim=nvim
alias code=nvim


